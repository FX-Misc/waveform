<!--
CUSTOM ELEMENT: tile-wall
BY: DM

groups is an array of objects with the following properties:
 .group_num
 .group_n
 .canv_spa_rm - id for use with canvas-manager
 .spa_rm_bin_size
 .spa_rm_smoothing
 .canv_dir_rm
 etc.


-->


<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="canvas-manager.html">
<link rel="import" href="tile-element.html">
<link rel="import" href="rm-plots.html">

<dom-module id="tile-wall">

<template>
	<canvas-manager></canvas-manager> 
	<rm-plots groups="{{groups}}"></rm-plots> 
	<template is="dom-repeat" items="[[groups]]">
		<tile-element 
			group_num="[[item.group_num]]"
			group_n="[[item.n_spikes]]"
			group_spa_max="[[item.spa_max]]"
			dir_rm="[[item.dir_rm]]"
			spa_rm="[[item.spa_rm]]"
			speed_rm="[[item.speed_rm]]"
			tc="[[item.tc]]"
			waves="[[item.waves]]"
			></tile-element>		
	</template>

</template>


<script>
	"use strict";
    Polymer({
    	is:'tile-wall',
    	properties: {
    		groups: {
    			type: Array,
    			value: function(){return [];},
    			notify: true	
    		}
    	},
    	observers: [
    		'groups_modified(groups.splices)'
    	],
    	groups_modified: function(change){
    		console.log("tile-wall detected groups change")
    		console.log(JSON.stringify(change));
    	}
	});
</script>

  
</dom-module>