<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="tile-element.html">
<link rel="import" href="utils.html">

<dom-module id="tile-wall">
<style>
.blank_info {
display: inline-block;
position: absolute;
left: 50%;
top: 30%;
transform: translateX(-50%);
}
</style>
<template>

    <div class="blank_info" style$="{{_show(is_empty)}}">
        No group data to be shown. Select a trial-tetrode pair with files available.
    </div>

    <template is="dom-repeat" items="[[groups]]">
        <tile-element 
            style$="[[_show(item)]]"
            group_num="[[index]]"
            group_model="[[item]]"
            spa_rm_height="[[options.spa_rm_height]]"
            active="{{_is_equal(item, active_group_a)}}"
            on-mouseenter="_mouseenter_tile"
            on-mouseleave="_mouseleave_tile"
            on-track="_track_tile"
            ></tile-element>        
    </template>
</template>


<script>
    "use strict";
    Polymer({
        is:'tile-wall',
        properties: {
            groups: {
                type: Array,
                value: function(){return [];},
                notify: true    
            },
            options: {
                type: Object,
                value: {} // settings for plotting
            },
            active_group_a:{
                type: Object,
                value: null,
                notify: true
            },
            is_empty: {
                type: Boolean,
                value: false,
                notify: true,
            }
        },
        observers: [
            'groups_modified(groups.*)'
        ], groups_modified: function(change){

        }, _show: function(v){
            return v ? '' : 'display: none;';
        }, _mouseenter_tile: function(e){
            this.set('active_group_a', e.model.item);
        }, _mouseleave_tile: function(e){
            this.set('active_group_a', null);
        }, _is_equal: function(a,b){
            return a===b;
        }
    });
</script>

  
</dom-module>